<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>cricle</title>
<style type="text/css">
*{margin: 0px;padding:0px;}
	#div1{width: 400px;height:400px;border-radius:50%;border:1px blue solid;position: absolute;left:50%;top:50%;margin-left:-200px;margin-top:-200px;}
	#div2{width:50px;height: 50px;border-radius:50%;background: red;position: absolute;left:50%;top:50%;margin-left:-25px;margin-top:-25px;}
	.div2{width:50px;height: 50px;border-radius:50%;background: red;position: absolute;left:50%;top:50%;margin-left:-25px;margin-top:-25px;}
	#btn{position: relative;left: 50%;top:50%;}
</style>

<script type="text/javascript">
	window.onload=function(){
		var oDiv1=document.getElementById('div1');
		var oBtn=document.getElementById('btn');
		var angle=0;
		var r=oDiv1.offsetWidth/2;
		var num=7;
		addEvent(oBtn,fn,"click");
		function addEvent(obj,fn,sEvt){
			if(obj.addEventListener){
				obj.addEventListener(sEvt,fn,false);
			}else{
				obj.attachEvent("on"+sEvt,fn);
			}
		}
		function fn(){
			if(oBtn.value=="+"){
				oBtn.value="-";

					move();
				
			}else{
				oBtn.value="+";
				for (var i = 0; i < aBox.length; i++) {
					
					move(aBox[i],0*(360/(count-1)));
				}
				
			}
		}
		var i=0;//计数
		var s=-90;//初始角度值
		var timer=null;
		function move(){
			var newDiv=document.createElement("div");
			newDiv.className="div2";
		    document.body.appendChild(newDiv);

		    var aBox=document.getElementsByClassName('div2');
			var star=s;
			var dis=180/num;//每次走多少度
			var count=Math.round(300/30);//次数
    		var n=0;
    		run(aBox[i],star+n/count*dis);//初始位置

			timer=setInterval(function(){
				n++;
				var cur=star+n/count*dis;console.log(cur)
				run(aBox[i],cur);
				s=cur;//角度赋给s，s赋给star
				if(n==count){
					clearInterval(timer);
					if(i<num){//I不能超过设定的数字
					i++;console.log(i)
					move(aBox[i]);//回调，i变成下一个
					}
				}
		    },30);
		}

	    function run(obj,angle){
			var b=Math.cos(angle*Math.PI/180)*r;
			var a=Math.sin(angle*Math.PI/180)*r;
			obj.style.left=a+r+oDiv1.offsetLeft+"px";
			obj.style.top=r+oDiv1.offsetTop-b+"px";
		}
		
	}
</script>
</head>
<body>
	<div id="div1">
		<input type="button" id="btn" value="+">
	</div>
	

</body>
</html>